import { BinaryParser } from '../serdes/binary-parser';
import { JsonObject, SerializedType, SerializedTypeID } from './serialized-type';
import { BinarySerializer } from '../serdes/binary-serializer';
/**
 * STJson: Serialized Type for JSON-like structures (objects or arrays).
 *
 * Supports two modes:
 * - Object: Key-value pairs where keys are VL-encoded strings
 * - Array: Ordered list of values
 *
 * Values are [SType marker][VL-encoded SType serialization].
 * Values can be any SType, including nested STJson.
 *
 * Serialization format: [type_byte][VL_length][data...]
 * - type_byte: 0x00 = Object, 0x01 = Array
 *
 * Depth constraint: Maximum nesting depth of 1 level
 */
declare class STJson extends SerializedType {
    private static readonly JsonType;
    private data;
    private jsonType;
    private default_;
    /**
     * Construct STJson from bytes
     * @param bytes - Uint8Array containing serialized JSON
     */
    constructor(bytes: Uint8Array);
    /**
     * Parse STJson from BinaryParser
     *
     * @param parser - BinaryParser positioned at the start of STJson
     * @returns STJson instance
     */
    static fromParser(parser: BinaryParser): STJson;
    /**
     * Parse a single key-value pair from the parser
     */
    private static parsePair;
    /**
     * Factory for SType value from VL blob (with SType marker)
     */
    private static makeValueFromVLWithType;
    /**
     * Check if this is an array type
     */
    isArray(): boolean;
    /**
     * Check if this is an object type
     */
    isObject(): boolean;
    /**
     * Get the JSON type
     */
    getType(): number;
    /**
     * Get nesting depth (0 = no nesting, 1 = one level of nesting)
     */
    getDepth(): number;
    /**
     * Validate nesting depth (max 1 level)
     */
    private validateDepth;
    /**
     * Set a field in an object
     */
    setObjectField(key: string, value: SerializedType | null): void;
    /**
     * Get a field from an object
     */
    getObjectField(key: string): SerializedType | null | undefined;
    /**
     * Set a nested object field (one level deep)
     */
    setNestedObjectField(key: string, nestedKey: string, value: SerializedType | null): void;
    /**
     * Get a nested object field
     */
    getNestedObjectField(key: string, nestedKey: string): SerializedType | null | undefined;
    /**
     * Get the inner data as a Map (for objects)
     */
    getMap(): Map<string, SerializedType | null>;
    /**
     * Get the inner data as an array
     */
    getArray(): (SerializedType | null)[];
    /**
     * Push an element to an array
     */
    pushArrayElement(value: SerializedType | null): void;
    /**
     * Get an array element by index
     */
    getArrayElement(index: number): SerializedType | null | undefined;
    /**
     * Set an array element by index
     */
    setArrayElement(index: number, value: SerializedType | null): void;
    /**
     * Set a field within an array element (element must be an object)
     */
    setArrayElementField(index: number, key: string, value: SerializedType | null): void;
    /**
     * Get a field within an array element
     */
    getArrayElementField(index: number, key: string): SerializedType | null | undefined;
    /**
     * Get the size of the array
     */
    arraySize(): number;
    /**
     * Set a nested array element (array stored in object field)
     */
    setNestedArrayElement(key: string, index: number, value: SerializedType | null): void;
    /**
     * Set a field within a nested array element
     */
    setNestedArrayElementField(key: string, index: number, nestedKey: string, value: SerializedType | null): void;
    /**
     * Get a nested array element
     */
    getNestedArrayElement(key: string, index: number): SerializedType | null | undefined;
    /**
     * Get a field within a nested array element
     */
    getNestedArrayElementField(key: string, index: number, nestedKey: string): SerializedType | null | undefined;
    /**
     * Serialize to binary
     */
    add(s: BinarySerializer): void;
    /**
     * Encode a key as VL
     */
    private static addVLKey;
    /**
     * Encode a value as [SType marker][VL]
     */
    private static addVLValue;
    /**
     * Convert to JSON representation
     */
    toJSON(): JsonObject | JsonObject[];
    /**
     * Compare with another STJson for equivalence
     */
    isEquivalent(t: SerializedType): boolean;
    /**
     * Check if this is the default value
     */
    isDefault(): boolean;
    /**
     * Get blob representation
     */
    toBlob(): Uint8Array;
    /**
     * Get the size (number of bytes in serialized form)
     */
    size(): number;
    /**
     * Set the value from another STJson
     */
    setValue(v: STJson): void;
    /**
     * Get serialized type ID
     */
    getSType(): SerializedTypeID;
}
export { STJson };
